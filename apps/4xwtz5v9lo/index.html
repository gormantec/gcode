<!DOCTYPE html>
<html><head><link rel="manifest" href="/apps/4xwtz5v9lo/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="description" content="A gcode developed PWA app"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta property="fpwa:template" content="pwa=true,name=gcode,short_name=gcode,theme_color=#005040,background_color=#005040,display=standalone,orientation=any"><link rel="apple-touch-icon" href="/apps/4xwtz5v9lo/icon.png"><link rel="apple-touch-icon-precomposed" href="/apps/4xwtz5v9lo/icon.png"><link rel="icon" href="/apps/4xwtz5v9lo/icon.png"><script>
  window.PWA={globals:{}};
  window.PWA.globals.appName="gcode";
  window.PWA.globals.orientation="any";
  window.PWA.globals.icon="icon.png";
  window.PWA.globals.icon180x180="180x180.icon.png";
  window.PWA.globals.icon192x192="192x192.icon.png";
  window.PWA.globals.icon512x512="512x512.icon.png";
  window.PWA.globals.splashColor="#F0F0F0";
  window.PWA.globals.mockFrame="iphoneX";
  window.PWA.globals.splashBackgroundColor="#005040";
  window.PWA.globals.splashDuration=2000;

let deferredPrompt;
if('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/apps/4xwtz5v9lo/sw.js');
};

function addToHomeScreen() {
   let a2hsBtn = document.querySelector(".ad2hs-prompt");
   a2hsBtn.style.display = 'none'; 
   deferredPrompt.prompt();
   deferredPrompt.userChoice.then(function(choiceResult){
   if (choiceResult.outcome === 'accepted') console.log('User accepted the A2HS prompt');
   else console.log('User dismissed the A2HS prompt');
   deferredPrompt = null;
 });}
function showAddToHomeScreen() {
   let a2hsBtn = document.querySelector(".ad2hs-prompt");
   a2hsBtn.style.display ="block";
   a2hsBtn.addEventListener("click", addToHomeScreen);
 }
 window.addEventListener('beforeinstallprompt', function (e) {
   e.preventDefault();
   deferredPrompt = e;
   showAddToHomeScreen();
   setTimeout(()=>{document.querySelector(".ad2hs-prompt").style.display ="none";},10000);
 });
function showIosInstall() {
  let iosPrompt = document.querySelector(".ios-prompt");
  iosPrompt.style.display = "block";
  iosPrompt.addEventListener("click", () => {
    iosPrompt.style.display = "none";
  });
}

const isIos = () => {
  const userAgent = window.navigator.userAgent.toLowerCase();
  return /iphone|ipad|ipod/.test( userAgent );
}
const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);
document.addEventListener("DOMContentLoaded", ()=>{
   console.log("DOMContentLoaded");
   if (isIos() && !isInStandaloneMode()) {
  showIosInstall();
   console.log("showIosInstall");
  }
});

</script><script type="module">
import { addkey } from "https://gcode.com.au/modules/near/index.mjs";

if (window.opener && window.opener !== window) {
    window.addEventListener("message",function(e){if(e.origin=="https://gcode.com.au")addkey(e.data);},false);
    window.addEventListener("load", (event) => {window.opener.postMessage("loaded","https://gcode.com.au");});
}

</script><script type="module">
/*

  filename:gcode-f0d8c4eff44.mjs
  created: 2022-5-1T12:12:44
  appName: gcode
  splash: ./gcode-f0dd1808dc5.svg
  icon: https://gcode.com.au/images/ios/ios-appicon-180-180op.png
  icon180x180: https://gcode.com.au/images/ios/ios-appicon-180-180op.png
  mockFrame: iphoneX
  splashBackgroundColor: #005040
  splashDuration: 2000

*/
/*---------------------------------------------------------------------------*/
import { PWA, Page, Div } from 'https://gcode.com.au/modules/pwa.mjs';
try { Page.clearPages();
} catch (e) {}
/*---------------------------------------------------------------------------*/
class HomePage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#000000",
            "backgroundPosition": "center",
            "backgroundSize": "60%",
            "backgroundRepeat": "no-repeat",
            "backgroundImage": "url(https://c7.uihere.com/files/614/185/190/sun-solar-flare-uv-uv-light.jpg)",
            "floatingActionButtonPage": aSecondPage
        });
    }

}
class SecondPage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#000000",
            "navigateBackPage": aHomePage,
            "child": myDiv
        });
    }
}
/*---------------------------------------------------------------------------*/
var myDiv=new Div({innerHTML: "url(https://gcode.com.au/html/test.html)"});
var aHomePage = new HomePage();
var aSecondPage = new SecondPage();
var aPWA = new PWA({
    "title": "Gorman Technology Pty Ltd",
    "footer": "https://www.gormantec.com",
    "primaryColor": "#005040"
});
aPWA.setPage(aHomePage);
aPWA.show();
/*---------------------------------------------------------------------------*/

</script></head><body><div class="splash"></div><div class="loader">Loading...</div></body></html>