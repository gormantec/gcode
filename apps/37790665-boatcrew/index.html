<!DOCTYPE html>
<html><head><link rel="manifest" href="/apps/37790665-boatcrew/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="description" content="An app to colaborate with freinds on trips to the river."><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta property="fpwa:template" content="pwa=true,name=boatcrew,short_name=boatcrew,theme_color=#3f3ff3,background_color=#3f3ff3,display=standalone,orientation=any"><link rel="apple-touch-icon" href="/apps/37790665-boatcrew/icon.png"><link rel="apple-touch-icon-precomposed" href="/apps/37790665-boatcrew/icon.png"><link rel="icon" href="/apps/37790665-boatcrew/icon.png"><style>
.splash{position:absolute;background-size:200px;background-image:url('splash.icon.png');background-position:center;background-repeat:no-repeat;top:0px;bottom:0px;left:0px;right:0px;color:#AAAAAA;background-color:#3f3ff3;}
.loader{font-size:50px;text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;margin:72px auto;position:absolute;bottom:20px;left:20px;right:20px;bottom:0;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load6 1.7s infinite ease,round 1.7s infinite ease;animation:load6 1.7s infinite ease,round 1.7s infinite ease}@-webkit-keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}100%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}100%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@-webkit-keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}
</style><script>
  window.PWA={globals:{}};
  window.PWA.globals.appName="boatcrew";
  window.PWA.globals.orientation="any";
  window.PWA.globals.icon="icon.png";
  window.PWA.globals.icon180x180="180x180.icon.png";
  window.PWA.globals.icon192x192="192x192.icon.png";
  window.PWA.globals.icon512x512="512x512.icon.png";
  window.PWA.globals.splash="splash.png";
  window.PWA.globals.splashColor="#AAAAAA";
  window.PWA.globals.splashBackgroundColor="#3f3ff3";
  window.PWA.globals.splashDuration=2000;

let deferredPrompt;
if('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/apps/37790665-boatcrew/sw.js');
};

function addToHomeScreen() {
   let a2hsBtn = document.querySelector(".ad2hs-prompt");
   a2hsBtn.style.display = 'none'; 
   deferredPrompt.prompt();
   deferredPrompt.userChoice.then(function(choiceResult){
   if (choiceResult.outcome === 'accepted') console.log('User accepted the A2HS prompt');
   else console.log('User dismissed the A2HS prompt');
   deferredPrompt = null;
 });}
function showAddToHomeScreen() {
   let a2hsBtn = document.querySelector(".ad2hs-prompt");
   a2hsBtn.style.display ="block";
   a2hsBtn.addEventListener("click", addToHomeScreen);
 }
 window.addEventListener('beforeinstallprompt', function (e) {
   e.preventDefault();
   deferredPrompt = e;
   showAddToHomeScreen();
   setTimeout(()=>{document.querySelector(".ad2hs-prompt").style.display ="none";},10000);
 });
function showIosInstall() {
  let iosPrompt = document.querySelector(".ios-prompt");
  if(iosPrompt)iosPrompt.style.display = "block";
  if(iosPrompt)iosPrompt.addEventListener("click", () => {
  if(iosPrompt)iosPrompt.style.display = "none";
  });
}

const isIos = () => {
  const userAgent = window.navigator.userAgent.toLowerCase();
  return /iphone|ipad|ipod/.test( userAgent );
}
const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);
document.addEventListener("DOMContentLoaded", ()=>{
   console.log("DOMContentLoaded");
   if (isIos() && !isInStandaloneMode()) {
  showIosInstall();
   console.log("showIosInstall");
  }
});

</script><script type="module">
import { addkey } from "https://gcode.com.au/modules/near/index.mjs";

if (window.opener && window.opener !== window) {
    window.addEventListener("message",function(e){if(e.origin=="https://gcode.com.au")addkey(e.data);},false);
    window.addEventListener("load", (event) => {window.opener.postMessage("loaded","https://gcode.com.au");});
}

</script><script type="module">
/*

  filename:gcode-ee051e8d604.mjs
  created: 2021-9-0T17:17:14
  appName: boatcrew
  splash: git://gormantec:gcode_repo/boat-logo-blue-icon180x180.png.svg
  splashBackgroundColor: #3f3ff3
  splashColor: #AAAAAA
  splashDuration: 2000
  splashSize: 200px
  description: An app to colaborate with freinds on trips to the river.
  permittedUrls: ["connect.facebook.net","cdn.jsdelivr.net","www.facebook.com","m.facebook.com","graph.facebook.com","rpc.testnet.near.org","fonts.gstatic.com","sdk.amazonaws.com","maps.googleapis.com","fonts.googleapis.com","maps.gstatic.com"]
  
  
 
   
*/
/*---------------------------------------------------------------------------*/
//#1818ca   
import { PWA,  Div, Page, AuthButtons } from 'https://gcode.com.au/modules/pwa.mjs';
import { myList,listView,CrewDivForm,aPageChangheListener,Spinner,LoginButton } from './lib/boat-crew-widgets.lib.mjs';
import { AskDivForm } from './lib/boat-crew-widget-askform.lib.mjs';
try {
    Page.clearPages();
} catch (e) {}
/*---------------------------------------------------------------------------*/
class LoginPage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#2122d3",
            "backgroundPosition": "center",
            "backgroundSize": "cover",
            "backgroundRepeat": "no-repeat",
            "backgroundImage": "url(https://gcode.com.au/images/boatcrew/bg2664x.png)",
            "hideFloatingActionButton": "true",
            "hideFooter": "true",
            "child": new AuthButtons({
                "id": "getEmailButton",
                applekey: "au.com.gcode.appleauth",
                facebookkey: "1240916769304778",
                googlekey: "xxxxxx",
                appearance: "list",
                bottom: "55px",
                skip: "true",
                nextPage: "ChatPage"
            }),
            "bottom": ""
        });
    }

}
class ChatPage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#2122d3",
            "backgroundPosition": "center",
            "backgroundSize": "cover",
            "backgroundRepeat": "no-repeat",
            "backgroundImage": "url(https://gcode.com.au/images/boatcrew/bg2664x.png)",
            "onOpen": () => {
                console.log(PWA.getPWA().credentials);
                if (PWA.getPWA().credentials && PWA.getPWA().credentials.imageUrl) {
                    PWA.getPWA().pwaHeader.appendChild(new Div({
                        "backgroundPosition": "center",
                        "backgroundSize": "cover",
                        "backgroundRepeat": "no-repeat",
                      	"title": "email@email.com",
                        "width": "38px",
                        "height": "38px",
                      	"right": "4px",
                      	"top": "4px",
                        "backgroundImage": "url("+PWA.getPWA().credentials.imageUrl+")"
                    }));
                }
            },
            "child": listView
        });
    }
}
class CrewPage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#2122d3",
            "backgroundPosition": "center",
            "backgroundSize": "cover",
            "backgroundRepeat": "no-repeat",
            "hideFloatingActionButton": "true",
            "backgroundImage": "url(https://gcode.com.au/images/boatcrew/bg2664x.png)",
            "navigateBackPage": aChatPage,
            "child": aCrewDivForm
        });
    }
}
class AsktoJoin extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#ffffff",
            "hideFloatingActionButton": "true",
            "navigateBackPage": aChatPage,
            "child": aAskDivForm
        });
    }
}
class SubmitPage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#2122d3",
            "backgroundPosition": "center",
            "backgroundSize": "cover",
            "backgroundRepeat": "no-repeat",
            "backgroundImage": "url(https://gcode.com.au/images/boatcrew/bg2664x.png)",
            "hideFloatingActionButton": "true",
            "navigateBackPage": aChatPage,
            "child": aSpinner
        });
    }
}
class FormPage extends Page {
    constructor() {
        super({
            "color": "#000000",
            "backgroundColor": "#ffffff",
            "navigateBackPage": aChatPage,
            "child": aCrewDivForm,
            "hideFloatingActionButton": "true"
        });
    }
}
/*---------------------------------------------------------------------------*/
var aChatPage = new ChatPage();
var aSpinner = new Spinner();
var aSubmitPage = new SubmitPage();
var aCrewDivForm = new CrewDivForm();
var aCrewPage = new CrewPage();
var aLoginButton = new LoginButton();
var aLoginPage = new LoginPage();
var aFormPage = new FormPage();
var aAskDivForm = new AskDivForm();
var aAsktoJoin = new AsktoJoin();
var aPWA = new PWA({
    "title": "Boat Crew",
    "footer": "https://www.gormantec.com",
    "primaryColor": "#0010AA",
    "pwaAuth": "true"
});
aPWA.floatingActionButton.onclick(function() {
    aPWA.setPage(aFormPage);
});
aPWA.addPageChangeListener(aPageChangheListener);
aPWA.setPage(aLoginPage);
aPWA.show();
/*---------------------------------------------------------------------------*/
</script></head><body><div class="splash"></div><div class="loader">Loading...</div></body></html>